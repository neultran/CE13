<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>Chuck Norris Jokes</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="Asynch.js" type="text/javascript"></script>
        <script>
            function GetJoke() {
                first = document.getElementById("firstName").value;
                last = document.getElementById("lastName").value;
                var data_file = "http://api.icndb.com/jokes/random?firstName=" + first + "&lastName=" + last;
                var http_request = AJAXRequest();
                http_request.onreadystatechange = function () {
                    if (http_request.readyState == 4) {
                        // Javascript function JSON.parse to parse JSON data
                        var jsonObj = JSON.parse(http_request.responseText);
                        console.log(jsonObj + "Using my code");
                        document.getElementById("joke").innerHTML = jsonObj.value.joke;
                    }
                }
                http_request.open("GET", data_file, true);
                http_request.send();
            }
        </script>
    </head>
    <body>
        <div><input type="text" id="firstName">
        <input type="text" id="lastName">
        <button onclick="GetJoke()">The Button</button>
        <div id="joke">

        </div></div>
    </body>
</html>
